webpackJsonp([3],{22:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=n(0),s=function(t){return t&&t.__esModule?t:{default:t}}(u),c=function(t){function e(t,n){o(this,e);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.parent=t,i._plugins=t._plugins,i._plugins.forEach(function(t,e){this[e]=t}.bind(i)),i.options=n,i}return i(e,t),a(e,[{key:"sync",value:function(){var t=this;return this.options.pull("loader.sync")instanceof Function?this.options.pull("loader.sync").call(this):new Promise(function(e,n){t.fire("loadstart",t),t.node.onprogress=function(e){return t.fire("progress",t,e)},t.node.onload=function(t){return e()},t.node.onerror=function(t){return n(t)},t.node.onabort=function(e){t.fire("abort",t,e),n(e)},t.node.ontimeout=function(e){t.fire("timeout",t,e),n(e)}})}},{key:"async",value:function(){var t=this,e=void 0,n=new Promise(function(e,n){t._resolve=e,t._reject=n});return this.options.pull("loader.async")instanceof Function?this.options.pull("loader.async")(this):(e=new Promise(function(e,n){t.xhr=new XMLHttpRequest,t.options.has("xhr.instance")||(t.options.define("xhr.method","GET"),t.xhr.onprogress=function(e){return t.fire("progress",t,e)},t.xhr.onerror=function(t){return n("error")},t.xhr.onabort=function(t){return n("abort")},t.xhr.ontimeout=function(t){return n("timeout")},t.xhr.open(t.options.pull("xhr.method"),t.options.data.url,!0),t.xhr.onreadystatechange=function(){t.fire("readystatechange",t,t.xhr),4===t.xhr.readyState&&(t.xhr.status>=200&&t.xhr.status<400?e(t.xhr.response):n("error"))}),t.fire("loadstart",t),t.xhr.send(t.options.pull("xhr.data")),t.fire("loadstarted",t)}),e.then(function(e){t._resolve(e)},function(e){t.options.data.fallbackSync?(t.options.data.async=!1,delete t._node,t.sync().then(function(e){t._resolve(!1)},function(e){t._reject(e)})):("error"!==e&&t.fire(e,t,t.xhr),t._reject(t.xhr.status))}),n)}},{key:"promise",get:function(){return this.options.data.async?this.async():this.sync()}}]),e}(s.default);e.default=c},8:function(t,e,n){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}(),u=function t(e,n,o){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var i=Object.getPrototypeOf(e);return null===i?void 0:t(i,n,o)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(o):void 0},s=n(22),c=function(t){return t&&t.__esModule?t:{default:t}}(s),l=function(t){function e(t,n){if(o(this,e),!n.has("name"))throw new TypeError("Beloader : Plugin must have a name");n.has("url")||(n.data.url="https://cdn.jsdelivr.net/gh/beloader/beloader-"+n.data.name+"@latest"),n.define("inline",!1);var i=r(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t,n));return i._node=void 0,i}return i(e,t),a(e,[{key:"sync",value:function(){return document.querySelector("head").appendChild(this.node),this._loadPlugin(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"sync",this).call(this))}},{key:"async",value:function(){return this.options.data.inline?this._loadPlugin(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"async",this).call(this)):(this.options.data.async=!1,this.node.setAttribute("async",""),document.querySelector("head").appendChild(this.node),this._loadPlugin(u(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"sync",this).call(this)))}},{key:"_loadPlugin",value:function(t){var e=this;return new Promise(function(n,o){t.then(function(t){var r=e.parent.parent;t&&e.options.data.inline&&(e.node.innerHTML=t,document.querySelector("head").appendChild(e.node));try{var i=r.pluginize(e.options.data.name,window[e.options.data.name],e.options);i.promise?i.promise.then(function(){return n()},function(t){return o("Unable to load plugin : "+e.options.name+" ["+t+"]")}):n()}catch(t){o("Unable to load plugin : "+e.options.name+" ["+t+"]")}})})}},{key:"node",get:function(){return void 0===this._node&&(this._node=document.createElement("script"),this._node.setAttribute("type","text/javascript"),this.options.data.async||this._node.setAttribute("src",this.options.data.url)),this._node}}]),e}(c.default);e.default=l}});